(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{yJ6U:function(e,s,t){"use strict";t.r(s),t.d(s,"ChatModule",(function(){return y}));var n=t("ofXK"),c=t("tyNb"),i=t("XNiG"),r=t("fXoL"),a=t("XhcP"),o=t("VRyK"),b=t("JX91"),d=t("7q3A"),u=t("M0ag"),p=t("Wp6s");function l(e,s){if(1&e&&(r.Ub(0,"mat-card",1),r.Ub(1,"div",2),r.Ub(2,"span"),r.Kc(3),r.Tb(),r.Ub(4,"span"),r.Kc(5),r.gc(6,"date"),r.Tb(),r.Tb(),r.Tb()),2&e){const e=s.$implicit;r.Cb(3),r.Lc(e.otheruser.nom),r.Cb(2),r.Lc(r.ic(6,2,e.date,"dd-MM-yyyy"))}}let m=(()=>{class e{constructor(e,s){this.uow=e,this.session=s,this.list=[],this.update=new i.a,this.selectedUser=new i.a,this.subs=[]}ngOnInit(){const e=Object(o.a)(this.update).pipe(Object(b.a)(null)).subscribe(e=>{this.getMessages(this.session.user.id)});this.subs.push(e)}getMessages(e){this.uow.messages.getMessages(e).subscribe(e=>{console.log(e),this.list=e})}ngOnDestroy(){this.subs.forEach(e=>{e.unsubscribe()})}}return e.\u0275fac=function(s){return new(s||e)(r.Ob(d.a),r.Ob(u.a))},e.\u0275cmp=r.Ib({type:e,selectors:[["app-contacts"]],inputs:{selectedUser:"selectedUser"},decls:2,vars:1,consts:[["class"," m-1",4,"ngFor","ngForOf"],[1,"m-1"],[1,"d-flex","justify-content-between"]],template:function(e,s){1&e&&(r.Ub(0,"div"),r.Ic(1,l,7,5,"mat-card",0),r.Tb()),2&e&&(r.Cb(1),r.mc("ngForOf",s.list))},directives:[n.m,p.a],pipes:[n.e],styles:[""]}),e})(),h=(()=>{class e{constructor(){this.selectedUser=new i.a}ngOnInit(){}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=r.Ib({type:e,selectors:[["app-message"]],inputs:{selectedUser:"selectedUser"},decls:3,vars:0,consts:[[1,"row"],[1,"m-1"],[1,"d-flex","justify-content-between"]],template:function(e,s){1&e&&(r.Ub(0,"div",0),r.Ub(1,"mat-card",1),r.Pb(2,"div",2),r.Tb(),r.Tb())},directives:[p.a],styles:[""]}),e})();const f=[{path:"",component:(()=>{class e{constructor(){this.selectedUser=new i.a}ngOnInit(){}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=r.Ib({type:e,selectors:[["app-chat"]],decls:8,vars:3,consts:[[2,"z-index","9","height","90vh"],["sidenav",""],["mode","side",3,"opened"],["snav",""],[2,"width","220px"],[3,"selectedUser"]],template:function(e,s){1&e&&(r.Ub(0,"mat-sidenav-container",0,1),r.Ub(2,"mat-sidenav",2,3),r.Ub(4,"div",4),r.Pb(5,"app-contacts",5),r.Tb(),r.Tb(),r.Ub(6,"mat-sidenav-content"),r.Pb(7,"app-message",5),r.Tb(),r.Tb()),2&e&&(r.Cb(2),r.mc("opened",!0),r.Cb(3),r.mc("selectedUser",s.selectedUser),r.Cb(2),r.mc("selectedUser",s.selectedUser))},directives:[a.b,a.a,m,a.c,h],styles:[""]}),e})()}];let U=(()=>{class e{}return e.\u0275mod=r.Mb({type:e}),e.\u0275inj=r.Lb({factory:function(s){return new(s||e)},imports:[[c.h.forChild(f)],c.h]}),e})();var w=t("MutI"),g=t("bTqV");let y=(()=>{class e{}return e.\u0275mod=r.Mb({type:e}),e.\u0275inj=r.Lb({factory:function(s){return new(s||e)},imports:[[n.c,U,a.d,w.b,g.b,p.f]]}),e})()}}]);